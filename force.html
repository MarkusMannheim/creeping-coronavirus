<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Force test</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <link href="./abcLogo64.png" rel="icon">
    <style>
      body {
        margin: 0px;
        padding: 0;
        overflow: hidden;
      }
      #chart {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <svg id="chart">
      <g id="chartGroup"></g>
    </svg>
    <script>
      chart = d3.select("#chart");
      chartGroup = d3.select("#chartGroup");
      window.addEventListener("resize", resize);
      resize();

      var nodes = [{}, {}, {}, {}, {}]
      var simulation = d3.forceSimulation(nodes)
        .force("charge", d3.forceManyBody())
        .force('center', d3.forceCenter(width / 2, height / 2))
        .on('tick', ticked);

      function ticked() {
        var u = d3.select('svg')
          .selectAll('circle')
          .data(nodes)
        u.enter()
          .append('circle')
          .attr('r', 5)
          .merge(u)
          .attr('cx', function(d) {
            return d.x
          })
          .attr('cy', function(d) {
            return d.y
          })
        u.exit().remove()
      }
      function resize() {
        width = chart.node().getBoundingClientRect().width;
        height = chart.node().getBoundingClientRect().height;
      }
    </script>
  </body>
</html>
